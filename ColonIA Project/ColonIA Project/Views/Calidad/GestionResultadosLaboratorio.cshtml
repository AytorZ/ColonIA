@{
    ViewBag.Title = "Gestión de Resultados de Laboratorio";
}

<div class="inner">

    <!-- Header con botón de regreso -->
    <header id="header">
        <a href="@Url.Action("Index", "Calidad")" class="btn btn-success mb-3">
            <i class="fas fa-arrow-left"></i> Volver
        </a>
    </header>

    <!-- Sección principal -->
    <section id="resultados">
        <div class="content">
            <header>
                <h1>Gestión de Resultados de Laboratorio</h1>
                <p>Consulta, actualiza o elimina los resultados registrados.</p>
            </header>

            <!-- Formulario de búsqueda -->
            <form class="row g-3 mb-4">
                <div class="col-md-4">
                    <label for="codigoLote" class="form-label">Código del Lote:</label>
                    <input type="text" class="form-control" id="codigoLote" name="codigoLote" placeholder="Ej. LOTE123" />
                </div>
                <div class="col-md-4">
                    <label for="fecha" class="form-label">Fecha:</label>
                    <input type="date" class="form-control" id="fecha" name="fecha" />
                </div>
                <div class="col-md-4">
                    <label for="tipoAnalisis" class="form-label">Tipo de Análisis:</label>
                    <select class="form-select" id="tipoAnalisis" name="tipoAnalisis">
                        <option value="">-- Seleccionar --</option>
                        <option value="Proteína">Proteína</option>
                        <option value="Humedad">Humedad</option>
                        <option value="Metales">Metales Pesados</option>
                        <option value="Nutrientes">Otros Nutrientes</option>
                    </select>
                </div>

                <div class="col-12 text-end">
                    <button type="submit" class="btn btn-primary mt-3">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                </div>
            </form>

            <!-- Resultados simulados -->
            <table class="table table-striped mt-4">
                <thead class="table-dark">
                    <tr>
                        <th>Código Lote</th>
                        <th>Fecha</th>
                        <th>Tipo de Análisis</th>
                        <th>Resultado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>LOTE123</td>
                        <td>2025-04-06</td>
                        <td>Proteína</td>
                        <td>65%</td>
                        <td>
                            <button class="btn btn-warning btn-sm me-2"><i class="fas fa-edit"></i> Actualizar</button>
                            <button class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#justificacionModal"><i class="fas fa-trash"></i> Eliminar</button>
                        </td>
                    </tr>
                    <!-- Aquí irían más resultados -->
                </tbody>
            </table>

            <!-- Modal para justificación al eliminar -->
            <div class="modal fade" id="justificacionModal" tabindex="-1" aria-labelledby="justificacionLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <form>
                            <div class="modal-header">
                                <h5 class="modal-title" id="justificacionLabel">Justificación para Eliminar Resultado</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                            </div>
                            <div class="modal-body">
                                <label for="justificacion" class="form-label">Escriba la justificación:</label>
                                <textarea class="form-control" id="justificacion" name="justificacion" rows="4" required></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="submit" class="btn btn-danger">Eliminar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </section>
</div>

<!-- FontAwesome y Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
